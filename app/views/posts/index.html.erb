<div class="container">



<% if @posts.empty? %> 
  <div>This user has not published any post yet!</div>
<% else %>

<% @posts.each_with_index do |post, index| %>

  <div class="overflow-hidden mt-5">
    <div><%= link_to "Post  ##{index + 1}", user_post_path(post.author, post) %></div>
    <br>
    <div><%= post.text %></div>
    <div class="float-end">Comments: <%= post.comments_counter %>, Likes: <%= post.likes_counter %></div>
  </div>


  <div class="mt-3">
   <% if post.recent_5_comments == [] %> 
     <p>This post has no comments yet!</p>
   <% else %>
    <ul class="list-group">
      <% post.recent_5_comments.each do |comment| %>
         <li class="list-group-item"><%= post.author.name %>: <%= comment.text %></li>
         <% end %>
      </ul>
   <% end %>
  </div>
<% end %>
<% end %>

